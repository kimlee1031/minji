<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도라이엄마 자가진단 테스트</title>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f9f9f9;
      }
      .container {
        max-width: 480px;
        margin: 40px auto;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .question {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 20px;
      }
      .btn {
        display: block;
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        background: white;
        border: 1px solid #ccc;
        border-radius: 6px;
        cursor: pointer;
        transition: background 0.2s;
      }
      .btn:hover {
        background-color: #f0f0f0;
      }
      .result-title {
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 10px;
      }
      .result-desc {
        font-size: 1rem;
        color: #555;
        margin-bottom: 20px;
      }
      .progress {
        height: 8px;
        background: #eee;
        border-radius: 4px;
        overflow: hidden;
        margin-bottom: 20px;
      }
      .progress-bar {
        height: 100%;
        background: #4f46e5;
        transition: width 0.3s;
      }
    </style>
  </head>
  <body>
    <div class="container" id="app"></div>

    <script>
      const questions = [
        {
          question: "아이가 화장실 변기에 인형을 담그고 있다. 나는?",
          options: [
            "기겁하며 말린다",
            "조용히 치운다",
            "욕조가 필요했나 보다~ 구경한다",
            "너도 들어가볼래? 장난친다",
          ],
        },
        {
          question:
            '아이가 갑자기 "엄마, 우린 외계인이었으면 좋겠어"라고 말한다. 나는?',
          options: [
            "그런 말 하지 마",
            "왜 그런 생각을 했어?",
            "그럼 오늘부터 외계인 놀이하자!",
            "지금도 외계인일걸? 나도 텔레파시 받았어",
          ],
        },
        {
          question: "오늘 하루 육아를 한 줄로 요약하자면?",
          options: [
            "지옥",
            "반복",
            "약간 미친 하루",
            "흥미진진 대환장 블록버스터",
          ],
        },
        {
          question: "아이가 반창고로 벽지를 도배한다면?",
          options: [
            "말린다 + 혼낸다",
            "사진 찍는다",
            "작품 제목 뭐야? 묻는다",
            "나도 도와줄게",
          ],
        },
        {
          question: "아이 옷에 물을 쏟았을 때 나는?",
          options: [
            "바로 갈아입히고 잔소리한다",
            "수건으로 닦아준다",
            "시원하지~ 농담한다",
            "같이 젖어본다",
          ],
        },
        {
          question: "육아의 궁극적 목표는?",
          options: ["제대로 키우기", "버티기", "즐기기", "같이 미쳐보기"],
        },
      ];

      const results = [
        {
          title: "💥 당신은 진성 도라이 엄마!",
          description:
            "당신은 이미 ‘나뽕희 여사’의 숨겨진 자매! 육아를 생존이 아니라 예술로 승화시키는 능력자입니다. 📚 이 책은 당신의 인생 바이블이 될지도 몰라요!",
        },
        {
          title: "🌱 당신은 잠재적 도라이 엄마",
          description:
            "당신 안에는 지금도 유쾌한 도라이 기질이 꿈틀대고 있어요. 나뽕희 여사의 세계관, 슬쩍 엿보고 싶지 않나요?",
        },
        {
          title: "🌧 고생길 위의 완벽주의 엄마",
          description:
            "아… 힘드시죠. 잘해야 한다는 말에 늘 긴장하고 있진 않나요? 나뽕희 여사의 ‘힘 빼는 철학’이 지금 가장 필요한 분입니다. 📖 책 한 권으로도, 조금은 웃을 수 있을 거예요.",
        },
        {
          title: "🌼 호기심 가득 관찰자 엄마",
          description:
            "나도 저렇게 살아보고 싶다… 하지만 아직은 두려운 당신. 괜찮아요. 누구나 한 번쯤 도라이 엄마가 되어도 좋아요. 나뽕희 여사와 함께, 웃음으로 연습해 볼까요?",
        },
      ];

      let step = 0;
      let answers = [];

      function render() {
        const app = document.getElementById("app");
        app.innerHTML = "";

        if (step >= questions.length) {
          const avg = answers.reduce((a, b) => a + b, 0) / answers.length;
          const result =
            avg < 0.75
              ? results[2]
              : avg < 1.5
              ? results[1]
              : avg < 2.25
              ? results[3]
              : results[0];

          app.innerHTML = `
          <div class="result-title">${result.title}</div>
          <div class="result-desc">${result.description}</div>
          <button class="btn" onclick="restart()">다시 하기</button>
        `;
          return;
        }

        const question = questions[step];
        const progress = ((step / questions.length) * 100).toFixed(1);

        app.innerHTML += `<div class="progress"><div class="progress-bar" style="width: ${progress}%"></div></div>`;
        app.innerHTML += `<div class="question">Q${step + 1}. ${
          question.question
        }</div>`;

        question.options.forEach((opt, i) => {
          const btn = document.createElement("button");
          btn.className = "btn";
          btn.innerText = opt;
          btn.onclick = () => handleAnswer(i);
          app.appendChild(btn);
        });
      }

      function handleAnswer(index) {
        answers.push(index);
        step++;
        render();
      }

      function restart() {
        step = 0;
        answers = [];
        render();
      }

      render();
    </script>
  </body>
</html>
